 <!-- <form #f="ngForm" (ngSubmit)="onSubmit(f)" novalidate>
    <input type="text" name="first" ngModel required #first="ngModel">
    <input name="last" ngModel>
    <button>Submit</button>
</form> -->



<form #f="ngForm" (ngSubmit)="onSubmit(f)" novalidate>
    <div class="container survey" *ngIf="isObject(); else elseBlock">
        <div class="row panel panel-primary" *ngIf="surveyObject">
            <div class="panel-heading">{{ surveyObject.title }}</div>
            <div class="panel-body">{{ surveyObject.description }}</div>
            <ul class="survey_list">
                <li *ngFor="let q of surveyObject.questions">
                    <p><u>Question {{ q.idx }}</u></p>
                    <p>{{ q.title }}</p>
                    <div *ngIf="q.type==='radio'">
                        <div class="radio" *ngFor="let option of q.options">
                        <input type="radio" name="{{ q.idx }}" id="Q_{{ q.idx }}_R{{ option.id }}" value="{{ option.id }}" ngModel>
                        <label for="Q_{{ q.idx }}_R{{ option.id }}">{{ option.value }}</label>
                        </div>
                    </div>
                    <div *ngIf="q.type==='checkbox'">
                        <div class="checkbox" *ngFor="let option of q.options">
                        <input name="{{ q.idx }}" id="Q_{{ q.idx }}_R{{ option.id }}" type="checkbox" value="{{ option.id }}" (change)="updateChecked(option.id, q.idx, $event)" ngModel>
                        <label for="Q_{{ q.idx }}_R{{ option.id }}">{{ option.value }}</label>
                        </div>
                    </div>
                    <div *ngIf="q.type==='pointrating'">
                        <span *ngFor="let option of q.options">
                        <input type="radio" name="{{ q.idx }}" id="Q_{{ q.idx }}_R{{ option.id }}" value="{{ option.id }}" ngModel>
                        <label for="Q_{{ q.idx }}_R{{ option.id }}">{{ option.value }}</label>&nbsp;
                        </span>
                    </div>
                    <div *ngIf="q.type==='dropdown'">
                        <select name="{{ q.idx }}" ngModel>
                            <option *ngFor="let option of q.options" value="{{ option.id }}">{{ option.value }}</option>
                        </select>
                    </div>
                    <div *ngIf="q.type==='singleline'">
                        <div>
                            <input type="textbox" name="{{ q.idx }}" size="35" ngModel>
                        </div>
                    </div>
                    <div *ngIf="q.type==='multiline'">
                        <div>
                            <textarea name="{{ q.idx }}" row="10" cols="35" ngModel></textarea>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <button type="submit">Submit</button>
</form> 

<ng-template #elseBlock>
    <div class="container survey">
        <div class="row panel panel-warning">
            <div class="panel-heading">No survey found.</div>
        </div>
    </div>
    <app-survey-input></app-survey-input>
</ng-template>


<!-- 
<form [formGroup]="answer" (ngSubmit)="onSubmit(answer)" novalidate>
    <div *ngFor="let q of surveyObject.questions" formGroupName="response">
        <label>
          <span>Question</span>
          <input type="text" formControlName="question">
        </label>
        
        <label>
          <span>Answers</span>
          <input type="text" formControlName="answers">
        </label>
        
      </div>
    <button type="submit"[disabled]="answer.invalid">Submit</button>
</form> 

<ng-template #elseBlock>
    <div class="container survey">
        <div class="row panel panel-warning">
            <div class="panel-heading">No survey found.</div>
        </div>
    </div>
    <app-survey-input></app-survey-input>
</ng-template> -->